<div data-controller="menu" class="<%= role_permit?(business: 'crm', namespace: 'admin') ? 'menu ex-accordion is-active' : 'display-none' %>">
  <div class="menu-label">
    <div>
      <i class="fa-solid fa-chart-line fa-fw"></i>
      <span><%= t('crm.admin.title') %></span>
    </div>
    <%= link_to({ controller: 'crm/admin/home' }, aria: { label: '设置' }) do %>
      <i class="fa-solid fa-cog"></i>
    <% end %>
  </div>
  <div class="menu-list">
    <%= link_to t('crm.admin.contacts.index.title'), { controller: 'crm/admin/contacts' }, data: { turbo_frame: 'body', action: 'menu#enter' }, class: active_helper(controllers: 'contacts', active: 'is-active') %>
    <%= link_to t('crm.admin.clients.index.title'), { controller: 'crm/admin/clients' }, data: { turbo_frame: 'body', action: 'menu#enter' }, class: active_helper(controllers: 'clients', active: 'is-active') %>
  </div>
</div>


<div class="<%= active_helper(modules: ['crm/admin', 'trade/admin'], active: 'menu ex-accordion is-active', item: 'menu ex-accordion') %>" data-controller="menu empty">
  <a class="menu-label" data-action="menu#toggle">
    <i class="fa-solid fa-chart-line fa-fw"></i>
    <span><%= t('crm.admin.title') %></span>
    <i class="fa-solid fa-fw dropdown"></i>
  </a>
  <div class="menu-list">
    <%= link_to t('crm.admin.maintains.index.title'), { controller: 'crm/admin/maintains' }, class: active_helper(controllers: ['maintain_logs'], 'maintains': ['index', 'show'], active: 'is-active') %>
    <%= link_to t('crm.admin.maintains.public.title'), { controller: 'crm/admin/maintains', action: 'public' }, class: active_helper('maintains': 'public', active: 'is-active') %>
    <%= link_to t('crm.admin.maintain_sources.index.title'), { controller: 'crm/admin/maintain_sources' }, class: active_helper(controllers: 'maintain_sources', active: 'is-active') %>
    <%= link_to t('crm.admin.maintain_tags.index.title'), { controller: 'crm/admin/maintain_tags' }, class: active_helper(controllers: 'maintain_tags', active: 'is-active') %>
  </div>
</div>